<div class="background">
  <div class="container">
    <form class="form" [formGroup]="form" (ngSubmit)="auth()">
      <div class="window">
        <div>
          <div class="mb-3">
            <label class="form-label">{{ "user" | translate }}</label>
            <input
              [class.redInput]="
                this.form.get('dniLogin')?.invalid &&
                this.form.get('dniLogin')?.touched
              "
              #dniLogin
              formControlName="dniLogin"
              type="text"
              class="form-control"
              maxlength="9"
              minlength="9"
              required
            />
          </div>
          <div class="mb-3">
            <label class="form-label">{{ "password" | translate }}</label>
            <div class="input-group mb-3">
              <input
                [class.redInput]="
                  this.form.get('passwordLogin')?.invalid &&
                  this.form.get('passwordLogin')?.touched
                "
                id="passwordField"
                #passwordLogin
                formControlName="passwordLogin"
                type="password"
                class="form-control"
                regexInput="[A-Z]*[a-z]*[0-9]*$"
                required
              />
              <div
                (click)="showPassword('passwordField')"
                class="input-group-text"
              >
                <svg
                  *ngIf="!showPassWord"
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-eye"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"
                  ></path>
                  <path
                    d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"
                  ></path>
                </svg>
                <svg
                  *ngIf="showPassWord"
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-eye-slash"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"
                  />
                  <path
                    d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"
                  />
                  <path
                    d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"
                  />
                </svg>
              </div>
            </div>
          </div>
          <div class="mb-3">
            <button type="submit" class="btn">
              {{ "login" | translate }}
            </button>
          </div>
        </div>
        <div *ngIf="true" id="load">
          
                <svg
              xmlns="http://www.w3.org/2000/svg"
              width="30"
              height="50"
              fill="currentColor"
              class="bi bi-phone-vibrate"
              viewBox="0 0 15 15"
            >
              <path
                d="M10 3a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h4zM6 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H6z"
              />
              <path
                d="M8 12a1 1 0 1 0 0-2 1 1 0 0 0 0 2zM1.599 4.058a.5.5 0 0 1 .208.676A6.967 6.967 0 0 0 1 8c0 1.18.292 2.292.807 3.266a.5.5 0 0 1-.884.468A7.968 7.968 0 0 1 0 8c0-1.347.334-2.619.923-3.734a.5.5 0 0 1 .676-.208zm12.802 0a.5.5 0 0 1 .676.208A7.967 7.967 0 0 1 16 8a7.967 7.967 0 0 1-.923 3.734.5.5 0 0 1-.884-.468A6.967 6.967 0 0 0 15 8c0-1.18-.292-2.292-.807-3.266a.5.5 0 0 1 .208-.676zM3.057 5.534a.5.5 0 0 1 .284.648A4.986 4.986 0 0 0 3 8c0 .642.12 1.255.34 1.818a.5.5 0 1 1-.93.364A5.986 5.986 0 0 1 2 8c0-.769.145-1.505.41-2.182a.5.5 0 0 1 .647-.284zm9.886 0a.5.5 0 0 1 .648.284C13.855 6.495 14 7.231 14 8c0 .769-.145 1.505-.41 2.182a.5.5 0 0 1-.93-.364C12.88 9.255 13 8.642 13 8c0-.642-.12-1.255-.34-1.818a.5.5 0 0 1 .283-.648z"
              />
            </svg>
            <button class="btn btn-tras" disabled>
              <span
                class="spinner-grow spinner-border-sm"
                role="status"
                aria-hidden="true"
              ></span>
              <span
                class="spinner-grow spinner-border-sm"
                role="status"
                aria-hidden="true"
              ></span>
              <span
                class="spinner-grow spinner-border-sm"
                role="status"
                aria-hidden="true"
              ></span>
              <span
                class="spinner-grow spinner-border-sm"
                role="status"
                aria-hidden="true"
              ></span>
              <span
                class="spinner-grow spinner-border-sm"
                role="status"
                aria-hidden="true"
              ></span>
            </button>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="30"
              height="50"
              fill="currentColor"
              class="bi bi-bank"
              viewBox="0 0 15 15"
            >
              <path
                d="m8 0 6.61 3h.89a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5H15v7a.5.5 0 0 1 .485.38l.5 2a.498.498 0 0 1-.485.62H.5a.498.498 0 0 1-.485-.62l.5-2A.501.501 0 0 1 1 13V6H.5a.5.5 0 0 1-.5-.5v-2A.5.5 0 0 1 .5 3h.89L8 0ZM3.777 3h8.447L8 1 3.777 3ZM2 6v7h1V6H2Zm2 0v7h2.5V6H4Zm3.5 0v7h1V6h-1Zm2 0v7H12V6H9.5ZM13 6v7h1V6h-1Zm2-1V4H1v1h14Zm-.39 9H1.39l-.25 1h13.72l-.25-1Z"
              />
            </svg>
             
            
          
        </div>

        <div>
          <div class="mb-3">
            <a
              class="openModal"
              data-bs-toggle="modal"
              data-bs-target="#registerModal"
              >{{ "createAccount" | translate }}</a
            >
          </div>
        </div>
      </div>
    </form>
  </div>
</div>

<!--Register modal-->
<form [formGroup]="formRegister" (ngSubmit)="createAccount()">
  <div
    class="modal fade"
    id="registerModal"
    tabindex="-1"
    aria-labelledby="exampleModalLabel2"
    aria-hidden="true"
    #rModal
  >
    <div class="modal-dialog modal-dialog-centered">
      <div class="window">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel2">
              {{ "newAccount" | translate }}
            </h1>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="mb-3 row">
              <label class="col-sm-2 col-form-label">{{
                "DNI" | translate
              }}</label>
              <div class="col-sm-10">
                <input
                  [class.redInput]="
                    this.formRegister.get('dni')?.invalid &&
                    this.formRegister.get('dni')?.touched
                  "
                  #dni
                  formControlName="dni"
                  name="dni"
                  placeholder="12345678A"
                  type="text"
                  class="form-control"
                  maxlength="9"
                  minlength="9"
                />
              </div>
            </div>
            <div class="mb-3 row">
              <label class="col-sm-2 col-form-label">{{
                "password" | translate
              }}</label>
              <div class="col-sm-10">
                <div class="input-group mb-3">
                  <input
                    [class.redInput]="
                      this.formRegister.get('password')?.invalid &&
                      this.formRegister.get('password')?.touched
                    "
                    id="createPasswordField"
                    #password
                    formControlName="password"
                    name="password"
                    placeholder="House_123"
                    type="password"
                    class="form-control"
                  />
                  <div
                    (click)="showPassword('createPasswordField')"
                    class="input-group-text"
                  >
                    <svg
                      *ngIf="!showPassWord"
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      fill="currentColor"
                      class="bi bi-eye"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"
                      ></path>
                      <path
                        d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"
                      ></path>
                    </svg>
                    <svg
                      *ngIf="showPassWord"
                      xmlns="http://www.w3.org/2000/svg"
                      width="16"
                      height="16"
                      fill="currentColor"
                      class="bi bi-eye-slash"
                      viewBox="0 0 16 16"
                    >
                      <path
                        d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"
                      />
                      <path
                        d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"
                      />
                      <path
                        d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"
                      />
                    </svg>
                  </div>
                </div>
              </div>
            </div>
            <div class="mb-3 row">
              <label class="col-sm-2 col-form-label">{{
                "account" | translate
              }}</label>
              <div class="col-sm-10">
                <input
                  [class.redInput]="
                    this.formRegister.get('account')?.invalid &&
                    this.formRegister.get('account')?.touched
                  "
                  #account
                  formControlName="account"
                  name="account"
                  placeholder="ES12 3456 7890 9876 5432 1234"
                  type="text"
                  class="form-control"
                  regexInput="^ES\d{2}\s\d{4}\s\d{4}\s\d{4}\s\d{4}\s\d{4}$"
                />
              </div>
            </div>
            <div class="mb-3 row">
              <label class="col-sm-2 col-form-label">{{
                "email" | translate
              }}</label>
              <div class="col-sm-10">
                <input
                  [class.redInput]="
                    this.formRegister.get('email')?.invalid &&
                    this.formRegister.get('email')?.touched
                  "
                  #email
                  formControlName="email"
                  name="email"
                  placeholder="Jason24@gmail.com"
                  type="email"
                  class="form-control"
                />
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn2">
              {{ "send" | translate }}
            </button>
            <button type="reset" class="btn btn2" data-bs-dismiss="modal">
              {{ "cancel" | translate }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
